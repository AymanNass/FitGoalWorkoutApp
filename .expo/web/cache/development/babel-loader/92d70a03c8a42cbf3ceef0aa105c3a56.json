{"ast":null,"code":"import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/macuser/Desktop/FitGoalW/src/screens/SignInScreen.js\",\n    _templateObject;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Button, Input, Image } from \"react-native-elements\";\nimport { StatusBar } from \"expo-status-bar\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport styled from \"styled-components\";\nimport { FirebaseContext } from \"../context/FirebaseContext\";\nimport { UserContext } from \"../context/UserContext\";\nimport Text from \"../components/Text\";\nexport default SignInScreen = function SignInScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var firebase = useContext(FirebaseContext);\n\n  var _useContext = useContext(UserContext),\n      _useContext2 = _slicedToArray(_useContext, 2),\n      _ = _useContext2[0],\n      setUser = _useContext2[1];\n\n  var signIn = function signIn() {\n    var uid, userInfo;\n    return _regeneratorRuntime.async(function signIn$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(firebase.signIn(email, password));\n\n          case 4:\n            uid = firebase.getCurrentUser().uid;\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(firebase.getUserInfo(uid));\n\n          case 7:\n            userInfo = _context.sent;\n            setUser({\n              username: userInfo.username,\n              email: userInfo.email,\n              uid: uid,\n              isLoggedIn: true\n            });\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](1);\n            alert(_context.t0.message);\n\n          case 14:\n            _context.prev = 14;\n            setLoading(false);\n            return _context.finish(14);\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 11, 14, 17]], Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, React.createElement(StatusBar, {\n    style: \"dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }), React.createElement(Image, {\n    source: require(\"../../assets/Logo-red.png\"),\n    style: {\n      width: 138,\n      height: 200\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: {\n      height: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    title: true,\n    semi: true,\n    center: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"Benvenuto\"), React.createElement(View, {\n    style: {\n      height: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: styles.inputContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, React.createElement(Input, {\n    placeholder: \"Email\",\n    autoFocus: true,\n    type: \"Email\",\n    onChangeText: function onChangeText(email) {\n      return setEmail(email.trim());\n    },\n    value: email,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }), React.createElement(Input, {\n    placeholder: \"Password\",\n    secureTextEntry: true,\n    type: \"Password\",\n    onChangeText: function onChangeText(password) {\n      return setPassword(password.trim());\n    },\n    value: password,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: signIn,\n    style: styles.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"white\",\n      fontSize: 17\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \" Login \")), React.createElement(Signup, {\n    onPress: function onPress() {\n      return navigation.navigate(\"SignUp\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    small: true,\n    center: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Non sei ancora registrato? \", React.createElement(Text, {\n    bold: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 44\n    }\n  }, \"Sign\"))), React.createElement(View, {\n    style: {\n      height: 200\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }));\n};\nvar Signup = styled.TouchableOpacity(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n    margin-top: 16px;\\n\\n\"])));\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 10,\n    backgroundColor: \"#E5E1EE\"\n  },\n  inputContainer: {\n    width: 300\n  },\n  button: {\n    alignItems: 'center',\n    backgroundColor: '#F15152',\n    padding: 10,\n    borderRadius: 18,\n    width: 140,\n    height: 40\n  },\n  button2: {\n    alignItems: 'center',\n    backgroundColor: '#429EB3',\n    padding: 10,\n    borderRadius: 18,\n    width: 140,\n    height: 40\n  }\n});","map":{"version":3,"sources":["/Users/macuser/Desktop/FitGoalW/src/screens/SignInScreen.js"],"names":["React","useState","useContext","Button","Input","Image","StatusBar","TouchableOpacity","styled","FirebaseContext","UserContext","Text","SignInScreen","navigation","email","setEmail","password","setPassword","loading","setLoading","firebase","_","setUser","signIn","uid","getCurrentUser","getUserInfo","userInfo","username","isLoggedIn","alert","message","styles","container","require","width","height","inputContainer","trim","button","color","fontSize","navigate","Signup","StyleSheet","create","flex","alignItems","justifyContent","padding","backgroundColor","borderRadius","button2"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react'\nimport { View, StyleSheet } from 'react-native';\nimport { Button, Input, Image } from \"react-native-elements\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { KeyboardAvoidingView } from 'react-native';\nimport {TouchableOpacity} from 'react-native-gesture-handler'\nimport styled from \"styled-components\"\n\nimport {FirebaseContext} from \"../context/FirebaseContext\"\nimport {UserContext} from \"../context/UserContext\"\nimport Text from '../components/Text'\n\nexport default  SignInScreen = ({navigation}) => {\n    const [email, setEmail] = useState();\n    const [password, setPassword] = useState();\n    const [loading, setLoading] = useState();\n    const firebase= useContext(FirebaseContext)\n    const [_, setUser] = useContext(UserContext)\n\n    const signIn= async () => {\n            setLoading(true)\n            try{\n                await firebase.signIn(email,password)\n                const uid= firebase.getCurrentUser().uid\n                const userInfo = await firebase.getUserInfo(uid)\n                setUser({\n                    username: userInfo.username,\n                    email: userInfo.email,\n                    uid,\n                    isLoggedIn:true,\n                });\n            }catch (error) {\n                alert(error.message);\n            }finally{\n                setLoading(false);\n            }\n    }\n    return (\n      \n        <View  style={styles.container}>\n        <StatusBar style=\"dark\"/>\n        <Image\n            source={  \n                require('../../assets/Logo-red.png')\n            }\n            style={{ width:138, height:200 }}\n        />\n        <View style={{height: 20 }}/>\n        <Text title semi center>Benvenuto</Text>\n        <View style={{height: 20 }}/>\n\n        <View style={styles.inputContainer}>\n            <Input \n            placeholder =\"Email\" \n            autoFocus \n            type=\"Email\" \n            onChangeText= {email => setEmail(email.trim())}\n            value={email}\n            />\n            \n            <Input \n            placeholder =\"Password\" \n            secureTextEntry \n            type=\"Password\" \n            onChangeText= {password => setPassword(password.trim())}\n            value={password}\n            />\n            </View>\n        \n\n        <TouchableOpacity\n            onPress={signIn}\n            style={styles.button}\n        >       \n            <Text style={{ color: \"white\", fontSize: 17 }}> Login </Text>\n        </TouchableOpacity>  \n\n        <Signup onPress={() => navigation.navigate(\"SignUp\")}>\n            <Text small center>\n                Non sei ancora registrato? <Text bold>Sign</Text>\n            </Text>\n        </Signup>\n        \n        <View style={{height: 200 }}/>\n    </View>\n                \n            \n    );\n}\n\nconst Signup = styled.TouchableOpacity`\n    margin-top: 16px;\n\n`\nconst styles = StyleSheet.create({\n    container:{\n        flex: 1,\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: 10,\n        backgroundColor: \"#E5E1EE\",\n    },\n    inputContainer: {\n        width: 300,\n    },\n    button: {\n        alignItems: 'center',\n        backgroundColor: '#F15152',\n        padding: 10,\n        borderRadius:18,\n        width: 140,\n        height: 40,\n\n      },\n      button2: {\n        alignItems: 'center',\n        backgroundColor: '#429EB3',\n        padding: 10,\n        borderRadius:18,\n        width: 140,\n        height: 40,\n\n      }\n});\n"]},"metadata":{},"sourceType":"module"}